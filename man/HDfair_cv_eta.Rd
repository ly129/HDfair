% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/HDfair_cv_eta.R
\name{HDfair_cv_eta}
\alias{HDfair_cv_eta}
\title{HDfair_cv_eta: Cross-Validation for Optimal Eta}
\usage{
HDfair_cv_eta(
  X,
  y,
  ma,
  lambda,
  eta_length,
  eta_ratio,
  nfold,
  foldid = NULL,
  rho,
  weighted = FALSE,
  adj = 1,
  eps = 1e-06,
  maxiter = 10000,
  verbose = FALSE
)
}
\arguments{
\item{X}{Numeric matrix of dimension \eqn{n \times p}; the design matrix.}

\item{y}{Numeric vector of length \eqn{n}; the response variable.}

\item{ma}{Integer matrix of dimension \eqn{n \times 2}; first column is source indicator (1,...,M), second column is group indicator (1,...,A).}

\item{lambda}{Numeric scalar; fixed group-lasso penalty parameter.}

\item{eta_length}{Integer; number of \eqn{\eta} values to consider if \code{eta_seq} is NULL.}

\item{eta_ratio}{Numeric scalar; ratio of minimum to maximum \eqn{\eta} when constructing a default sequence.}

\item{nfold}{Integer; number of cross-validation folds.}

\item{foldid}{Optional integer vector of length \eqn{n} specifying fold assignments; default generates stratified folds by group-source.}

\item{rho}{Numeric scalar; augmented Lagrangian parameter for optimization.}

\item{weighted}{Logical; if \code{TRUE}, computes validation loss as mean over sources and groups; otherwise uses pooled sum over all observations.}

\item{adj}{Numeric scalar; adjustment factor applied to multiplier updates.}

\item{eps}{Numeric scalar; convergence tolerance for coefficient updates.}

\item{maxiter}{Integer; maximum number of augmented Lagrangian iterations.}

\item{verbose}{Logical; if \code{TRUE}, prints iteration details.}
}
\value{
An object of class \code{"HDfair_cv"} containing:
\describe{
  \item{eta}{Vector of \eqn{\eta} values considered.}
  \item{cvm}{Mean cross-validation error for each \eqn{\eta}.}
  \item{cvsd}{Standard error of CV error across folds.}
  \item{cvup}{Upper bound = \code{cvm + cvsd}.}
  \item{cvlo}{Lower bound = \code{cvm - cvsd}.}
  \item{nzero}{Array of dimension \eqn{M \times A \times L}, where \eqn{L} is the length of \eqn{\eta}, giving number of nonzeros in each fit.}
  \item{eta.min}{Selected \eqn{\eta} with minimum CV error.}
  \item{eta.1se}{Largest \eqn{\eta} within one standard error of minimum CV error.}
  \item{index}{Named indices \code{eta.min} and \code{eta.1se}.}
  \item{foldid}{Fold assignments used.}
  \item{sp}{Solution path object returned by \code{HDfair_sp_eta}.}
}
}
\description{
Performs K-fold cross-validation over a sequence of \eqn{\eta} values to select an optimal
fairness-penalty parameter for HDfair, using warm-started solution paths from \code{HDfair_sp_eta}.
}
\seealso{
\code{\link{HDfair_sp_eta}}, \code{\link{plot_cv_eta}}
}
